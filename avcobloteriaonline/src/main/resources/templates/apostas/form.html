<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link 
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" th:href="@{/css/colors.css}" />
    <title>Vadrilis da Sorte - Cadastrar Aposta</title>
</head>
<header sec:authorize="isAuthenticated()">
	<div th:replace="~{fragments/navigation.html :: menu}"></div>
</header>
<body class="">
	<div th:if="${mensagem}" class="alert alert-danger alert-dismissible fade show" role="alert">
		<span th:inline="text">
			[[${mensagem}]]
		</span>
		<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
	</div>
	
	<div class="container mt-4 text-center">
		<div class="d-flex justify-content-center">
			<form th:action="@{/apostas}" method="post" th:object="${aposta}">
				<input type="hidden" th:field="*{id}">

				<h1 class="text-center pb-2">Cadastro Apostas</h1>

                <div class="text-center">
                    <img th:src="@{/imagens/lottery-numbers.gif}" alt="balls-rolling">
                </div>

				<div class="container py-1">
					<label for="numberinput" class="form-label">Números do Sorteio</label>
					<input type="text" id="numberinput" class="form-control" aria-describedby="numbersHelp" th:name="cbx" >
					<div id="numbersHelp" class="form-text">
						Coloque 6 a 10 números no seguinte formato: <code>1,2,3,4,5,6,7,8,9,10</code>
					</div>
				</div>

				<div class="form-floating">
					<select th:field="*{numeros}" class="form-select" id="floatingSelect" aria-label="Floating label select example">
						<option value="" th:selected="${apostaNv.numeros==numeros}">
							Selecione os números favoritos
						</option>
						<option th:each="f : ${apostasFavoritas}" th:value="${#strings.listJoin(f.numeros, ',')}" th:inline="text" th:selected="${f.numeros==numeros}">
							Números: [[${f.numeros}]]
						</option>
					</select>
					<label for="floatingSelect" class="text-dark">Apostas Favoritas</label>
				</div>

				<br>

				<div class="form-floating">
					<select th:field="*{numeroSorteio}" class="form-select" id="floatingSelect" aria-label="Floating label select example">
						<option value="" th:inline="text" th:selected="${sorteioNv.id==numSorteio}">
							Selecione um sorteio
						</option>
						<option th:each="sa : ${sorteiosAtivos}" th:value="${sa.id}" th:inline="text" th:selected="${sa.id==numSorteio}">
							Valor da premiação: [[${sa.valorPremio}]]
						</option>
					</select>
					<label for="floatingSelect" class="text-dark">Sorteios abertos</label>
				</div>

				<div class="text-center">
					<div class="form-check form-switch m-3">
						<input th:field="*{ehFavorita}" class="form-check-input float-none" type="checkbox" role="switch" id="flexSwitchCheckDefault">
						<label class="form-check-label px-2" for="flexSwitchCheckDefault">Favorito</label>
					</div>
					<button type="submit" class="btn bg-purple-400 border-purple-500 text-white">Cadastrar Aposta</button>
				</div>
			</form>
		</div>
	</div>

</body>
</html>